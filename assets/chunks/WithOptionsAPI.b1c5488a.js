/**
 * name: vue-picture-cropper
 * version: v0.7.0
 * description: A simple and easy-to-use picture cropping component for Vue 3.
 * author: chengpeiquan <chengpeiquan@chengpeiquan.com>
 * homepage: https://cropper.chengpeiquan.com
 * license: MIT
 */
import{R as u,g as m,S as a}from"./live-demo.4698ce0c.js";import{d as b,_ as g,i as f,o as r,c as d,e as s,t as o,j as c,b as h}from"../app.b9b53fc1.js";const R=b({components:{VuePictureCropper:u},data(){return{locales:m(),isShowModal:!1,pic:"",result:{dataURL:"",blobURL:""}}},methods:{selectFile(e){this.pic="",this.result.dataURL="",this.result.blobURL="";const{files:t}=e.target;if(!t||!t.length)return;const i=t[0],n=new FileReader;n.readAsDataURL(i),n.onload=()=>{this.pic=String(n.result),this.isShowModal=!0,this.$refs.uploadInput&&(this.$refs.uploadInput.value="")}},async getResult(){if(!a)return;const e=a.getDataURL(),t=await a.getBlob();if(!t)return;const i=await a.getFile({fileName:this.locales.fileName});console.log({base64:e,blob:t,file:i}),this.result.dataURL=e,this.result.blobURL=URL.createObjectURL(t),this.isShowModal=!1},clear(){!a||a.clear()},reset(){!a||a.reset()},ready(){console.log("Cropper is ready.")}}});const v={class:"live-demo"},w={class:"section"},C={class:"select-picture"},L={key:0,class:"section"},U={class:"preview"},y=["src"],_={class:"preview"},k=["src"],S={key:1,class:"modal-wrap"},T={class:"modal-scroll-view"},M={class:"modal"},$={class:"modal-title"},I={class:"title"},P={class:"tools"},V={class:"modal-content"};function B(e,t,i,n,F,N){const p=f("VuePictureCropper");return r(),d("div",v,[s("section",w,[s("p",null,o(e.locales.tips),1),s("button",C,[s("span",null,o(e.locales.selectPictureButtonText),1),s("input",{ref:"uploadInput",type:"file",accept:"image/jpg, image/jpeg, image/png, image/gif",onChange:t[0]||(t[0]=(...l)=>e.selectFile&&e.selectFile(...l))},null,544)])]),e.result.dataURL&&e.result.blobURL?(r(),d("section",L,[s("p",null,o(e.locales.previewTips.dataURL),1),s("div",U,[s("img",{src:e.result.dataURL},null,8,y)]),s("p",null,o(e.locales.previewTips.blob),1),s("div",_,[s("img",{src:e.result.blobURL},null,8,k)]),s("p",null,o(e.locales.previewTips.print),1)])):c("",!0),e.isShowModal?(r(),d("div",S,[t[5]||(t[5]=s("div",{class:"modal-mask"},null,-1)),s("div",T,[s("div",M,[s("div",$,[s("span",I,o(e.locales.modal.title),1),s("div",P,[s("button",{class:"btn",onClick:t[1]||(t[1]=l=>e.isShowModal=!1)},o(e.locales.modal.btnCancelText),1),s("button",{class:"btn",onClick:t[2]||(t[2]=(...l)=>e.clear&&e.clear(...l))},o(e.locales.modal.btnClearText),1),s("button",{class:"btn",onClick:t[3]||(t[3]=(...l)=>e.reset&&e.reset(...l))},o(e.locales.modal.btnResetText),1),s("button",{class:"btn primary",onClick:t[4]||(t[4]=(...l)=>e.getResult&&e.getResult(...l))},o(e.locales.modal.btnCropText),1)])]),s("div",V,[h(p,{boxStyle:{width:"100%",height:"100%",backgroundColor:"#f8f8f8",margin:"auto"},img:e.pic,options:{viewMode:1,dragMode:"crop",aspectRatio:16/9},onReady:e.ready},null,8,["img","onReady"])])])])])):c("",!0)])}const D=g(R,[["render",B],["__scopeId","data-v-2f91add7"]]);export{D as W};
