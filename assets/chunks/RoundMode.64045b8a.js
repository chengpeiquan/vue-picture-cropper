/**
 * name: vue-picture-cropper
 * version: v0.7.0
 * description: A simple and easy-to-use picture cropping component for Vue 3.
 * author: chengpeiquan <chengpeiquan@chengpeiquan.com>
 * homepage: https://cropper.chengpeiquan.com
 * license: MIT
 */
import{R,g as _,S as c}from"./live-demo.4698ce0c.js";import{d as h,h as m,r as w,_ as L,i as U,o as g,c as v,e as s,t as l,j as b,b as C}from"../app.b9b53fc1.js";const y=h({components:{VuePictureCropper:R},setup(){const e=_(),o=m(!1),i=m(null),r=m(""),n=w({dataURL:"",blobURL:""});function f(t){r.value="",n.dataURL="",n.blobURL="";const{files:a}=t.target;if(!a||!a.length)return;const u=a[0],p=new FileReader;p.readAsDataURL(u),p.onload=()=>{r.value=String(p.result),o.value=!0,i.value&&(i.value.value="")}}async function d(){if(!c)return;const t=c.getDataURL(),a=await c.getBlob();if(!a)return;const u=await c.getFile({fileName:e.fileName});console.log({base64:t,blob:a,file:u}),n.dataURL=t,n.blobURL=URL.createObjectURL(a),o.value=!1}return{locales:e,uploadInput:i,pic:r,result:n,isShowModal:o,selectFile:f,getResult:d}}});const k={class:"live-demo"},M={class:"section"},S={class:"select-picture"},B={key:0,class:"section"},T={class:"preview"},V=["src"],F={class:"preview"},N=["src"],$={key:1,class:"modal-wrap"},j={class:"modal-scroll-view"},P={class:"modal"},D={class:"modal-title"},I={class:"title"},z={class:"tools"},A={class:"modal-content"};function E(e,o,i,r,n,f){const d=U("VuePictureCropper");return g(),v("div",k,[s("section",M,[s("p",null,l(e.locales.tips),1),s("button",S,[s("span",null,l(e.locales.selectPictureButtonText),1),s("input",{ref:"uploadInput",type:"file",accept:"image/jpg, image/jpeg, image/png, image/gif",onChange:o[0]||(o[0]=(...t)=>e.selectFile&&e.selectFile(...t))},null,544)])]),e.result.dataURL&&e.result.blobURL?(g(),v("section",B,[s("p",null,l(e.locales.previewTips.dataURL),1),s("div",T,[s("img",{src:e.result.dataURL},null,8,V)]),s("p",null,l(e.locales.previewTips.blob),1),s("div",F,[s("img",{src:e.result.blobURL},null,8,N)]),s("p",null,l(e.locales.previewTips.print),1)])):b("",!0),e.isShowModal?(g(),v("div",$,[o[3]||(o[3]=s("div",{class:"modal-mask"},null,-1)),s("div",j,[s("div",P,[s("div",D,[s("span",I,l(e.locales.modal.title),1),s("div",z,[s("button",{class:"btn",onClick:o[1]||(o[1]=t=>e.isShowModal=!1)},l(e.locales.modal.btnCancelText),1),s("button",{class:"btn primary",onClick:o[2]||(o[2]=(...t)=>e.getResult&&e.getResult(...t))},l(e.locales.modal.btnCropText),1)])]),s("div",A,[C(d,{boxStyle:{width:"100%",height:"100%",backgroundColor:"#f8f8f8",margin:"auto"},img:e.pic,options:{viewMode:1,dragMode:"move",aspectRatio:1,cropBoxResizable:!1},presetMode:{mode:"round",width:100,height:100}},null,8,["img"])])])])])):b("",!0)])}const G=L(y,[["render",E],["__scopeId","data-v-3a31bf4e"]]);export{G as R};
