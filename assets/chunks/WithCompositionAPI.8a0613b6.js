/**
 * name: vue-picture-cropper
 * version: v0.7.0
 * description: A simple and easy-to-use picture cropping component for Vue 3.
 * author: chengpeiquan <chengpeiquan@chengpeiquan.com>
 * homepage: https://cropper.chengpeiquan.com
 * license: MIT
 */
import{R as h,g as w,S as a}from"./live-demo.4698ce0c.js";import{d as U,h as b,r as y,_,i as k,o as f,c as g,e as s,t as l,j as R,b as T}from"../app.b9b53fc1.js";const S=U({components:{VuePictureCropper:h},setup(){const e=w(),o=b(!1),r=b(null),d=b(""),i=y({dataURL:"",blobURL:""});function v(c){d.value="",i.dataURL="",i.blobURL="";const{files:n}=c.target;if(!n||!n.length)return;const p=n[0],m=new FileReader;m.readAsDataURL(p),m.onload=()=>{d.value=String(m.result),o.value=!0,r.value&&(r.value.value="")}}async function u(){if(!a)return;const c=a.getDataURL(),n=await a.getBlob();if(!n)return;const p=await a.getFile({fileName:e.fileName});console.log({base64:c,blob:n,file:p}),i.dataURL=c,i.blobURL=URL.createObjectURL(n),o.value=!1}function t(){!a||a.clear()}function C(){!a||a.reset()}function L(){console.log("Cropper is ready.")}return{locales:e,uploadInput:r,pic:d,result:i,isShowModal:o,selectFile:v,getResult:u,clear:t,reset:C,ready:L}}});const P={class:"live-demo"},V={class:"section"},B={class:"select-picture"},F={key:0,class:"section"},I={class:"preview"},M=["src"],N={class:"preview"},$=["src"],j={key:1,class:"modal-wrap"},A={class:"modal-scroll-view"},D={class:"modal"},W={class:"modal-title"},E={class:"title"},O={class:"tools"},q={class:"modal-content"};function z(e,o,r,d,i,v){const u=k("VuePictureCropper");return f(),g("div",P,[s("section",V,[s("p",null,l(e.locales.tips),1),s("button",B,[s("span",null,l(e.locales.selectPictureButtonText),1),s("input",{ref:"uploadInput",type:"file",accept:"image/jpg, image/jpeg, image/png, image/gif",onChange:o[0]||(o[0]=(...t)=>e.selectFile&&e.selectFile(...t))},null,544)])]),e.result.dataURL&&e.result.blobURL?(f(),g("section",F,[s("p",null,l(e.locales.previewTips.dataURL),1),s("div",I,[s("img",{src:e.result.dataURL},null,8,M)]),s("p",null,l(e.locales.previewTips.blob),1),s("div",N,[s("img",{src:e.result.blobURL},null,8,$)]),s("p",null,l(e.locales.previewTips.print),1)])):R("",!0),e.isShowModal?(f(),g("div",j,[o[5]||(o[5]=s("div",{class:"modal-mask"},null,-1)),s("div",A,[s("div",D,[s("div",W,[s("span",E,l(e.locales.modal.title),1),s("div",O,[s("button",{class:"btn",onClick:o[1]||(o[1]=t=>e.isShowModal=!1)},l(e.locales.modal.btnCancelText),1),s("button",{class:"btn",onClick:o[2]||(o[2]=(...t)=>e.clear&&e.clear(...t))},l(e.locales.modal.btnClearText),1),s("button",{class:"btn",onClick:o[3]||(o[3]=(...t)=>e.reset&&e.reset(...t))},l(e.locales.modal.btnResetText),1),s("button",{class:"btn primary",onClick:o[4]||(o[4]=(...t)=>e.getResult&&e.getResult(...t))},l(e.locales.modal.btnCropText),1)])]),s("div",q,[T(u,{boxStyle:{width:"100%",height:"100%",backgroundColor:"#f8f8f8",margin:"auto"},img:e.pic,options:{viewMode:1,dragMode:"crop",aspectRatio:16/9},onReady:e.ready},null,8,["img","onReady"])])])])])):R("",!0)])}const J=_(S,[["render",z],["__scopeId","data-v-dda820ab"]]);export{J as W};
