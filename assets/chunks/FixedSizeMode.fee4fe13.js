/**
 * name: vue-picture-cropper
 * version: v0.7.0
 * description: A simple and easy-to-use picture cropping component for Vue 3.
 * author: chengpeiquan <chengpeiquan@chengpeiquan.com>
 * homepage: https://cropper.chengpeiquan.com
 * license: MIT
 */
import{R as _,g as R,S as c}from"./live-demo.4698ce0c.js";import{d as h,h as m,r as w,_ as L,i as U,o as f,c as g,e as s,t as l,j as b,b as C}from"../app.b9b53fc1.js";const S=h({components:{VuePictureCropper:_},setup(){const e=R(),o=m(!1),n=m(null),r=m(""),i=w({dataURL:"",blobURL:""});function v(t){r.value="",i.dataURL="",i.blobURL="";const{files:a}=t.target;if(!a||!a.length)return;const u=a[0],p=new FileReader;p.readAsDataURL(u),p.onload=()=>{r.value=String(p.result),o.value=!0,n.value&&(n.value.value="")}}async function d(){if(!c)return;const t=c.getDataURL(),a=await c.getBlob();if(!a)return;const u=await c.getFile({fileName:e.fileName});console.log({base64:t,blob:a,file:u}),i.dataURL=t,i.blobURL=URL.createObjectURL(a),o.value=!1}return{locales:e,uploadInput:n,pic:r,result:i,isShowModal:o,selectFile:v,getResult:d}}});const y={class:"live-demo"},k={class:"section"},F={class:"select-picture"},M={key:0,class:"section"},B={class:"preview"},T=["src"],V={class:"preview"},N=["src"],$={key:1,class:"modal-wrap"},j={class:"modal-scroll-view"},z={class:"modal"},P={class:"modal-title"},D={class:"title"},I={class:"tools"},A={class:"modal-content"};function E(e,o,n,r,i,v){const d=U("VuePictureCropper");return f(),g("div",y,[s("section",k,[s("p",null,l(e.locales.tips),1),s("button",F,[s("span",null,l(e.locales.selectPictureButtonText),1),s("input",{ref:"uploadInput",type:"file",accept:"image/jpg, image/jpeg, image/png, image/gif",onChange:o[0]||(o[0]=(...t)=>e.selectFile&&e.selectFile(...t))},null,544)])]),e.result.dataURL&&e.result.blobURL?(f(),g("section",M,[s("p",null,l(e.locales.previewTips.dataURL),1),s("div",B,[s("img",{src:e.result.dataURL},null,8,T)]),s("p",null,l(e.locales.previewTips.blob),1),s("div",V,[s("img",{src:e.result.blobURL},null,8,N)]),s("p",null,l(e.locales.previewTips.print),1)])):b("",!0),e.isShowModal?(f(),g("div",$,[o[3]||(o[3]=s("div",{class:"modal-mask"},null,-1)),s("div",j,[s("div",z,[s("div",P,[s("span",D,l(e.locales.modal.title),1),s("div",I,[s("button",{class:"btn",onClick:o[1]||(o[1]=t=>e.isShowModal=!1)},l(e.locales.modal.btnCancelText),1),s("button",{class:"btn primary",onClick:o[2]||(o[2]=(...t)=>e.getResult&&e.getResult(...t))},l(e.locales.modal.btnCropText),1)])]),s("div",A,[C(d,{boxStyle:{width:"100%",height:"100%",backgroundColor:"#f8f8f8",margin:"auto"},img:e.pic,options:{viewMode:1,dragMode:"move",aspectRatio:1,cropBoxResizable:!1},presetMode:{mode:"fixedSize",width:100,height:100}},null,8,["img"])])])])])):b("",!0)])}const G=L(S,[["render",E],["__scopeId","data-v-fe4fc503"]]);export{G as F};
